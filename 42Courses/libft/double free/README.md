## double free란?    
     
한 번 free를 통해 해제한 메모리를 다시 한 번 free로 해제하였을 때 발생하는 시스템, 보안 위협을 말한다.     
     
이를 이해하기 위해서는 [malloc](https://github.com/kshim1208/TIL/blob/main/42Courses/malloc/README.md) 의 기능, 그 중에서도 bin의 개념을 알아야할 필요가 있다.    
    
      
우리가 free를 할 때, free된 메모리에 대한 chunk가 bins 리스트에 더해지게 된다.     
그리고 우리가 동일한 크기의 메모리를 다시 할당 받을 경우, systemcall을 요청하기 전에 우선 bins에 저장된 할당 이력을 확인하게 된다.     
    
     
여기서 우리가 c라는 주소를 지닌 15바이트 크기의 메모리를 2번 할당 해제했다고 가정해보자.    
그러면 bins의 구성이 이런 형태가 될 것이다.
     
     bins list의 요소 : 5a - 10b - 15c - 15c
     
이 때, 우리가 c주소의 15바이트의 메모리를 할당 받을 경우, bins에는 여전히 c주소를 담는 free chunk가 남아있다.    
     
     bins list의 요소 : 5a - 10b - 15c
     
   
동일하게 15바이트의 메모리를 다시 한 번 할당할 경우, 같은 메모리 영역을 가리키는 2개의 할당된 변수가 생기게 된다.    
또한, bins 리스트의 c에 누군가가 접근할 경우, 해당 list의 정보를 토대로 우리가 할당한 메모리의 정보에 접근할 수 있게 된다.    
     
이것이 double free를 하였을 때 발생할 수 있는 문제점이다.    
     
      
#### 대처 방안    

가장 근본적인 방법은 malloc과 free를 다시 작성하여 double free로 인한 bins chunk 추가 자체가 발생하지 않게 막는 것이다.    
    
아니면 단순히 double free를 조심하기만 해도 결국 메모리 주소에 대한 정보를 지킬 수 있을 것이라 판단된다.    
    
